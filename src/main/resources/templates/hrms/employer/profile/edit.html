<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê¸°ì—…ì •ë³´ ìˆ˜ì •</title>
    <style>
        .edit-mode { display: none; }
        .profile-table-container { padding: 20px; width: 100%; }
        .table-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; }
        .profile-merged-table { width: 100%; border-collapse: collapse; }
        .profile-merged-table th, .profile-merged-table td {
            border: 1px solid #ccc;
            padding: 10px;
        }
        .action-buttons { text-align: right; margin-top: 10px; }
    </style>
</head>
<body>

<form th:action="@{/employer/profile/edit}" method="post">
    <div class="profile-table-container">

        <div class="table-header">
            <h3 class="table-title">ğŸ“Œ ê¸°ì—… ê¸°ë³¸ ì •ë³´</h3>
            <div class="action-buttons" id="editControls">
                <button type="button" id="editButton">ì •ë³´ ìˆ˜ì •</button>
                <button type="submit" id="saveButton" class="edit-mode">ì €ì¥</button>
                <button type="button" id="cancelButton" class="edit-mode">ì·¨ì†Œ</button>
            </div>
        </div>

        <table class="profile-merged-table">
            <tr>
                <td rowspan="5" class="profile-image-cell">
                    <img src="/images/users/user_big_profile.png" alt="ê¸°ì—… ë¡œê³ " style="width:120px;">
                </td>
                <th>íšŒì‚¬ëª…</th>
                <td>
                    <span class="view-mode" th:text="${profile.companyName}">íšŒì‚¬ëª…</span>
                    <input type="text" name="companyName" th:value="${profile.companyName}" class="edit-mode">
                </td>
                <th>ëŒ€í‘œìëª…</th>
                <td>
                    <span class="view-mode" th:text="${profile.ceoName}">ëŒ€í‘œìëª…</span>
                    <input type="text" name="ceoName" th:value="${profile.ceoName}" class="edit-mode">
                </td>
            </tr>
            <tr>
                <th>ì‚¬ì—…ì ë²ˆí˜¸</th>
                <td>
                    <span class="view-mode" th:text="${profile.businessNumber}">123-45-67890</span>
                    <input type="text" name="businessNumber" th:value="${profile.businessNumber}" class="edit-mode">
                </td>
                <th>ì´ë©”ì¼</th>
                <td>
                    <span class="view-mode" th:text="${profile.email}">email@example.com</span>
                    <input type="email" name="email" th:value="${profile.email}" class="edit-mode">
                </td>
            </tr>
            <tr>
                <th>ëŒ€í‘œ ì „í™”ë²ˆí˜¸</th>
                <td>
                    <span class="view-mode" th:text="${profile.phoneNumber}">02-1234-5678</span>
                    <input type="text" name="phoneNumber" th:value="${profile.phoneNumber}" class="edit-mode">
                </td>
                <th>í™ˆí˜ì´ì§€</th>
                <td>
                    <span class="view-mode" th:text="${profile.homepageUrl}">www.wit.co.kr</span>
                    <input type="text" name="homepageUrl" th:value="${profile.homepageUrl}" class="edit-mode">
                </td>
            </tr>
            <tr>
                <th>íšŒì‚¬ ì£¼ì†Œ</th>
                <td>
                    <span class="view-mode" th:text="${profile.address}">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬</span>
                    <input type="text" name="address" th:value="${profile.address}" class="edit-mode">
                </td>
                <th>ê¸°ì—… ê·œëª¨</th>
                <td>
                    <span class="view-mode" th:text="${profile.companySize}">ì¤‘ì†Œê¸°ì—…</span>
                    <input type="text" name="companySize" th:value="${profile.companySize}" class="edit-mode">
                </td>
            </tr>
            <tr>
                <th>ì—…ì¢…</th>
                <td>
                    <span class="view-mode" th:text="${profile.industry}">IT</span>
                    <input type="text" name="industry" th:value="${profile.industry}" class="edit-mode">
                </td>
                <th>ì„¤ë¦½ì—°ë„</th>
                <td>
                    <span class="view-mode" th:text="${profile.foundedYear}">2019</span>
                    <input type="text" name="foundedYear" th:value="${profile.foundedYear}" class="edit-mode">
                </td>
            </tr>
        </table>
    </div>
</form>

<!-- ìˆ˜ì • ì„±ê³µ ì•Œë¦¼ -->
<script th:if="${successMessage != null}">
    alert([[${successMessage}]]);
</script>

<!-- ìˆ˜ì • ëª¨ë“œ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    const editBtn = document.getElementById('editButton');
    const cancelBtn = document.getElementById('cancelButton');
    const saveBtn = document.getElementById('saveButton');

    editBtn.addEventListener('click', () => {
        document.querySelectorAll('.view-mode').forEach(e => e.style.display = 'none');
        document.querySelectorAll('.edit-mode').forEach(e => e.style.display = 'inline-block');
        editBtn.style.display = 'none';
    });

    cancelBtn.addEventListener('click', () => {
        document.querySelectorAll('.view-mode').forEach(e => e.style.display = 'inline');
        document.querySelectorAll('.edit-mode').forEach(e => e.style.display = 'none');
        editBtn.style.display = 'inline-block';
    });
</script>

</body>
</html>
