<!-- templates/hrms/fragments/community/sidebar.html -->

<aside th:fragment="sidebar" class="sidebar">
  <div class="sidebar-inner">

    <!-- 상단: 로고 + 메뉴 -->
    <div class="sidebar-top">
      <div class="logo">
        <a th:href="@{/}">
          <img th:src="@{/images/logo_no_background.png}" alt="로고"/>
        </a>
      </div>

      <nav class="menu">
        <ul class="sidebar-menu">
          <li class="menu-item">
            <a th:href="@{/community/all}">📋 전체 게시판</a>
          </li>

          <!-- 동적 게시판 출력 -->
          <li class="menu-item" th:each="board : ${communityBoards}">
            <a th:href="@{'/community/' + ${board.code}}">
              <span>📋</span>
              <span th:text="${board.name}"></span>
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- 하단: 관리자 정보 -->
    <div class="sidebar-footer">
      <div class="user-info" th:if="${userDetails != null}">
        <img th:if="${userDetails.profileImage != null}"
             th:src="@{'/uploads/users/profile/' + ${userDetails.profileImage}}"
             alt="프로필 이미지"
             style="width: 36px; height: 36px; border-radius: 50%; object-fit: cover;">
        <img th:if="${userDetails.profileImage == null}"
             th:src="@{/images/users/user_small_profile.png}"
             alt="기본 이미지"
             style="width: 36px; height: 36px; border-radius: 50%; object-fit: cover;">
        <span th:text="${userDetails.name}"></span>
      </div>
      <div class="user-info" th:if="${userDetails == null}">
        <img src="/images/users/user_small_profile.png" alt="프로필 이미지">
        <span>이름</span>
      </div>
    </div>

  </div>
</aside>
